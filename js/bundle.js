!function(e){function t(t){for(var o,a,r=t[0],l=t[1],c=t[2],d=0,h=[];d<r.length;d++)a=r[d],s[a]&&h.push(s[a][0]),s[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);h.length;)h.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],o=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=i[0]))}return e}var o={},s={0:0},n=[];function a(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=o,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(i,o,function(t){return e[t]}.bind(null,o));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;n.push([0,1]),i()}({"./src/js/main.js":function(e,t,i){"use strict";i.r(t);var o=i("./node_modules/vue/dist/vue.min.js"),s=i.n(o),n=i("./node_modules/vue-awesome-swiper/dist/vue-awesome-swiper.js"),a=i.n(n),r=i("./node_modules/vue-lazyload/vue-lazyload.esm.js"),l=i("./node_modules/object-fit-images/dist/ofi.common-js.js"),c=i.n(l),u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d={data:function(){return{isCollapsed:!1}},methods:{collapseBlock:function(){var e=this,t=this.$refs.collapse.scrollHeight,i=10*Math.pow(Math.log(t),2),o=[{height:"0px"},{height:t+"px"}],s={duration:i,iterations:1,fill:"both",easing:["ease-in-out"]};this.isCollapsed=!this.isCollapsed,u(function(){e.$refs.collapse.animate(o,Object.assign(s,{direction:e.isCollapsed?"normal":"reverse"}))})}}},h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,p={data:function(){return{isCollapsed:!1}},methods:{collapseBlock:function(){var e=this;this.isCollapsed=!this.isCollapsed;var t=this.$refs.collapse.firstElementChild.scrollHeight,i=10*Math.pow(Math.log(t),2),o=[{height:"8.5em"},{height:t+"px"}],s={duration:i,iterations:1,fill:"both",easing:["cubic-bezier(0.68, -0.55, 0.265, 1.55)"]},n=this.isCollapsed?0:300;setTimeout(function(){e.$refs.collapse.classList.toggle("js-collapse",e.isCollapsed)},n),h(function(){e.$refs.collapse.animate(o,Object.assign(s,{direction:e.isCollapsed?"normal":"reverse"}))})}}};var m=function(e,t){var i=null;return function(){for(var o=this,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];var r=function(){e.apply(o,n),i=null};i&&clearTimeout(i),i=setTimeout(r,t)}},f=new s.a,v=(requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,{data:function(){return{isNavVisible:!1,isScrolling:!1}},methods:{showNav:function(){this.isNavVisible=!this.isNavVisible,this.$emit("nav-show")},closeNav:function(){this.isNavVisible=!1,this.$emit("nav-close")},handleScroll:function(){this.isScrolling=window.pageYOffset>10||this.isNavVisible}},props:["screen-width"],mounted:function(){window.addEventListener("scroll",this.handleScroll,{passive:!0}),f.$on("closeNav",m(this.closeNav,200))}}),g=i("./node_modules/inputmask/index.js"),w=i.n(g),b=void 0,y=new w.a("+7 (999) 999 99 99",{showMaskOnHover:!1,placeholder:"  ",onComplete:function(){return b.validation.phone=!0}}),j=(s.a.component("form-request",{data:function(){return{success:!1,error:!1,name:"",phone:"",contact:"",city:"",agree:!0,validation:{name:null,phone:null,contact:null,city:null,agree:!0}}},computed:{formTitle:function(){switch(this.referrer){case"program":return"\u0417\u0430\u043f\u043e\u043b\u043d\u0438 \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043f\u043e \u0442\u0443\u0440\u0443";case"pricing":return"\u0417\u0430\u043f\u043e\u043b\u043d\u0438 \u0444\u043e\u0440\u043c\u0443<br> \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0443\u0440\u0430";default:return"\u041f\u043e\u043b\u0443\u0447\u0438 5 \u0441\u043e\u0432\u0435\u0442\u043e\u0432 \u043f\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044e \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0445 \u0441\u0438\u043b, \u043d\u0430\u0445\u043e\u0434\u044f\u0441\u044c \u0432 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0438"}},tour:function(){return"pricing"===this.referrer&&this.selectedTour||null}},props:["selectedTour","referrer"],methods:{submitForm:function(){var e=this;if(this.validate("all")){var t={form:this.formTitle.replace("<br>",""),name:this.name,phone:this.phone,contact:this.contact,city:this.city};null!==this.tour&&(t=Object.assign(t,{date:this.tour.date||null,seatsReserved:this.tour.seatsReserved||null,seatsAvailable:this.tour.seatsAvailable||null,seatsTotal:this.tour.seatsTotal||null,duration:this.tour.duration||null,priceCurrent:this.tour.priceCurrent||null,pricePrev:this.tour.pricePrev||null}));var i=this.$refs.form.getAttribute("action"),o=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:o}).then(function(t){t.ok?e.success=!0:e.error=!0,e.$refs.form.reset()})}},initMask:function(){this.im=new w.a("+7 (999) 999 99 99",{showMaskOnHover:!1,placeholder:" "}),y.mask(this.$refs.phone)},validate:function(e){if("all"===e)return Object.values(this.validation).every(function(e){return!!e});var t=e.target.name,i=e.target.value;return"phone"===t?this.validation[t]=/^\+\d \(\d{3}\) \d{3} \d{2} \d{2}$/.test(i):"agree"===t?this.validation[t]=e.target.checked:void(this.validation[t]=!!i)}},mounted:function(){this.initMask()}}),s.a.component("form-pricing",{data:function(){return{selected:1,tours:TOURS,seats:1}},computed:{selectedTour:function(){var e=this;return this.tours.find(function(t){return t.id===e.selected})},tourDuration:function(){var e=this.selectedTour.duration;return"".concat(e,e%10===1?" \u0434\u0435\u043d\u044c":e>5&&e<21?" \u0434\u043d\u0435\u0439":e%10>1&&e%10<5?" \u0434\u043d\u044f":" \u0434\u043d\u0435\u0439")}},methods:{formSubmit:function(){var e=Object.assign({},this.selectedTour,{seatsReserved:this.seats});this.$emit("form-submit",e)},addSeats:function(){this.seats<this.selectedTour.seatsAvailable?this.seats++:this.seats=this.selectedTour.seatsAvailable},subtractSeats:function(){this.seats>1?this.seats--:this.seats=1},checkSeats:function(){this.seats>this.selectedTour.seatsAvailable&&(this.seats=this.selectedTour.seatsAvailable)}}}),i("./node_modules/smoothscroll-polyfill/dist/smoothscroll.js")),A=i.n(j),x={methods:{smoothScrollingInit:function(){var e=this;A.a.polyfill(),document.querySelectorAll("[data-smooth]").forEach(function(t){t.addEventListener("click",function(i){i.preventDefault();var o=t.getAttribute("href").slice(1),s=50;document.body.classList.contains("js-modal-open")&&(f.$emit("closeNav"),s=300),setTimeout(function(){e.scrollTo(o)},s)})})},scrollTo:function(e){var t=document.getElementById(e);window.scroll({behavior:"smooth",left:0,top:t.offsetTop-130})}},mounted:function(){this.smoothScrollingInit(),window.location.hash&&this.scrollTo(window.location.hash.slice(1))}};s.a.use(r.a,{preLoad:1.5,loading:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggZD0iTTAgNCBMMCAyOCBMMzIgMjggTDMyIDQgeiBNNCAyNCBMMTAgMTAgTDE1IDE4IEwxOCAxNCBMMjQgMjR6IE0yNSA3IEE0IDQgMCAwIDEgMjUgMTUgQTQgNCAwIDAgMSAyNSA3Ij48L3BhdGg+Cjwvc3ZnPg==",attempt:1,filter:{responsive:function(e){var t=window.devicePixelRatio>1,i=window.innerWidth;i<768&&!t&&(e.src=e.src.replace("3x","1x")),i<768&&t&&(e.src=e.src.replace("3x","2x")),i>=768&&!t&&(e.src=e.src.replace("3x","1.5x"))},webp:function(e,t){t.supportWebp&&(new RegExp("img").test(e.src)&&(e.src=e.src.replace("png","webp"),e.src=e.src.replace("jpg","webp")))}}}),s.a.use(a.a);new s.a({el:"#app",data:{hasWebp:!1,bodyFixed:!1,prevScroll:0,screenWidth:window.innerWidth,selectedTour:null,modals:{form:!1,video:!1},referrer:null,videoStatus:null,swiperOptions:{spaceBetween:100,speed:500,pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},allowTouchMove:!1}},computed:{videoSrc:function(){return this.videoStatus?"files/video.mp4":""}},methods:{supportsWebp:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0==e.toDataURL("image/webp").indexOf("data:image/webp")},fixBody:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!this.bodyFixed&&(this.prevScroll=window.pageYOffset),e||this.bodyFixed?(this.bodyFixed=!1,window.scrollTo(0,this.prevScroll),document.body.classList.toggle("js-modal-open",this.bodyFixed),i&&document.body.classList.toggle("js-ios-hack",this.bodyFixed)):(this.bodyFixed=!0,setTimeout(function(){document.body.classList.toggle("js-modal-open",t.bodyFixed),i&&document.body.classList.toggle("js-ios-hack",t.bodyFixed)},300))},playVideo:function(){var e=this,t=this.$refs.video;this.videoStatus&&!t.paused||(this.videoStatus="playing",t?t.play():setTimeout(function(){(t=e.$refs.video).play()},400))},toggleModal:function(e,t){t||(this.referrer=null),this.referrer=t,this.modals[e]=!this.modals[e],this.fixBody(null,!1)},handleResize:function(){this.screenWidth=window.innerWidth},handlePricingForm:function(e){this.selectedTour=e,this.toggleModal("form","pricing")},aviasalesInit:function(){var e=document.createElement("script");e.setAttribute("src","//aviasales.energytravel.pro/iframe.js"),e.setAttribute("charset","utf-8"),e.setAttribute("type","text/javascript"),this.$refs.aviasales.appendChild(e)}},mixins:[x],components:{HeaderComponent:v,TabsComponent:{data:function(){return{tabPaneActive:1}},props:["swiperOptions"],methods:{showPane:function(e,t){t.preventDefault(),this.tabPaneActive=e}}},ArticleComponent:p,AccordionComponent:d,ModalComponent:{data:function(){return{}},methods:{closeModal:function(){this.$emit("modal-close")}}}},mounted:function(){c()(),this.hasWebp=this.supportsWebp(),document.body.classList.toggle("has-webp",this.hasWebp),window.addEventListener("resize",m(this.handleResize,250),{passive:!0}),this.aviasalesInit()}})},0:function(e,t,i){i("./node_modules/web-animations-js/web-animations.min.js"),e.exports=i("./src/js/main.js")}});